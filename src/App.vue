<script lang="ts" setup>
/**
 * Huvudkomponenten som sammanf칬r alla delar av applikationen.
 */

import { ref } from "vue";
import { exampleArsredovisning } from "@/example/ExampleArsredovisning.ts";
import RenderMain from "@/components/render/RenderMain.vue";
import EditMain from "@/components/edit/EditMain.vue";
import ToolsFinish from "@/components/tools/ToolsFinish.vue";
import { getConfigValue } from "@/util/configUtils.ts";

const arsredovisning = ref(exampleArsredovisning);

const environmentName = getConfigValue("VITE_ENV_NAME");
</script>

<template>
  <main class="d-flex flex-column">
    <header>
      <h1>
        Gredor
        <span v-if="environmentName" class="environment">{{
          environmentName
        }}</span>
      </h1>
    </header>

    <div class="d-flex flex overflow-hidden gap-4">
      <div class="editor">
        <EditMain v-model="arsredovisning" />
      </div>

      <div class="renderer">
        <RenderMain
          :arsredovisning="arsredovisning"
          :show-faststallelseintyg="false"
        />
      </div>
    </div>

    <div class="d-flex justify-content-between">
      <div class="help-hint d-flex align-items-center">
        <strong>拘勇 Beh칬ver du hj칛lp? Skrolla ner lite! 拘勇</strong>
      </div>

      <div>
        <ToolsFinish :arsredovisning="arsredovisning" />
      </div>
    </div>
  </main>
  <div class="aside-container">
    <hr />
    <aside>
      <div></div>
      <div class="text-center">
        <h2>Om Gredor</h2>
      </div>
      <div></div>
      <div class="card">
        <div class="card-header">
          <strong>Vad 칛r Gredor?</strong>
        </div>
        <div class="card-body">
          <p>
            Bacon ipsum dolor amet picanha meatball kielbasa, rump alcatra ball
            tip biltong t-bone. Pork belly shank turducken porchetta, meatloaf
            picanha hamburger chicken.
          </p>
          <p>
            Shoulder ham short loin, sirloin drumstick corned beef ham hock
            alcatra capicola chicken pork frankfurter picanha pork belly.
            Meatloaf shoulder turducken, tongue venison shankle meatball
            tenderloin sausage porchetta beef jerky chuck.
          </p>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <strong>Viktigt att t칛nka p친 n칛r man anv칛nder Gredor</strong>
        </div>
        <div class="card-body">
          <p>
            M친lgruppen f칬r Gredor 칛r f칬retagare som 칛r bekv칛ma med att st칛lla
            upp 친rsredovisningen sj칛lv. Har du exempelvis tidigare skrivit din
            친rsredovisning i Word och sedan postat den till Bolagsverket, kan
            Gredor vara ett bra alternativ f칬r dig.
          </p>
          <p>
            Vi som arbetar med Gredor har begr칛nsad m칬jlighet att ge support;
            bland annat kan vi inte svara p친 fr친gor om vilka f칛lt du beh칬ver ha
            med i din 친rsredovisning. F칬r fr친gor av s친dana slag h칛nvisar vi till
            <a
              href="https://bolagsverket.se/foretag/aktiebolag/arsredovisningforaktiebolag.759.html#h-Innehallienarsredovisning"
              >Bolagsverkets exempel</a
            >,
            <a
              href="https://www.bfn.se/informationsmaterial/vagledningar/#arsredovisningk2"
              >Bokf칬ringsn칛mndens v칛gledning</a
            >
            alternativt en redovisningskonsult.
            <strong>Gredor tillhandah친lls utan n친gra garantier.</strong>
          </p>
          <p>
            Gredor st칬der endast regelverket f칬r 친rsredovisning i mindre f칬retag
            (K2), f칬r f칬retag utan revisor.
          </p>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <strong>TODO</strong>
        </div>
        <div class="card-body">TODO</div>
      </div>
      <div class="card">
        <div class="card-header">
          <strong>K칛llkod och licens</strong>
        </div>
        <div class="card-body">
          <p>
            Gredor 칛r ett open-source-projekt. Programvaran 칛r AGPL-licensierad,
            och k칛llkoden finns p친
            <a href="https://github.com/GredorTools" target="_blank">GitHub</a>.
          </p>
          <p>
            Bidrag till projektet uppskattas stort! Om du vill bidra, 칬ppna
            g칛rna en issue och/eller utkasts-PR f칬r att f친 tidig 친terkoppling p친
            dina t칛nkta 칛ndringar.
          </p>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <strong>Integritetspolicy</strong>
        </div>
        <div class="card-body">
          <p>
            Till skillnad fr친n en del andra akt칬rer har Gredor inget intresse av
            att kartl칛gga ditt liv; Gredor skickar aldrig n친gon personlig data
            via internet ut칬ver det som 칛r n칬dv칛ndigt f칬r att tj칛nsten ska
            fungera.
          </p>
          <p>
            De uppgifter som skickas 칬ver internet 칛r, ut칬ver s친dant som skickas
            automatiskt f칬r att kunna ansluta (t.ex. ip-adress), din
            친rsredovisning och de filer du laddar upp. Dessa sparas inte p친
            Gredors servrar, utan tas bort s친 fort som m칬jligt. D칛remot sparar
            Bolagsverket din 친rsredovisning n칛r du skickar in den dit, annars
            hade tj칛nsten varit n친gorlunda v칛rdel칬s 游땔
          </p>
        </div>
      </div>
      <div class="card">
        <div class="card-header">
          <strong>Kontakt</strong>
        </div>
        <div class="card-body">
          <p>Du kan kontakta oss p친...</p>
        </div>
      </div>
    </aside>
  </div>
</template>

<style lang="scss" scoped>
main,
aside {
  max-width: calc(1152px + 210mm);
}

main {
  margin: 0 auto;
  font-weight: normal;

  height: 100vh;
  max-height: 100vh;
  padding: 2rem;
  gap: 2em;

  .editor {
    overflow-y: auto;

    border: 1px solid #566f41;
    border-radius: 0.5rem;
    background-color: #fdfff8;
    padding: 1rem;
    justify-self: end;

    width: 100%;
  }

  .renderer {
    /* F칬r skuggan */
    padding: 0 0.5em 0.5em 0px;
  }

  .help-hint {
    border: 1px solid #8a5555;
    background-color: #f8e7e7;
    padding: 0 1rem;
  }
}

.aside-container {
  background-color: #e5e5e5;
}

aside {
  margin: 0 auto;
  font-weight: normal;

  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  padding: 2rem 6rem 4rem 6rem;
  gap: 2em;
}

header {
  grid-column: 1 / span 2;

  h1 {
    margin-bottom: 0;

    .environment {
      color: #566f41;
      font-style: italic;
    }
  }
}
</style>
